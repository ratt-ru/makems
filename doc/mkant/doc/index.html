<HTML><BODY>

    <TITLE>Simulating Various Arrays</TITLE>
    
    <H1><A CLASS="TITLE" TIMESTAMP=1253609901>Simulating Various Arrays</A></H1>
    
    
        <HR WIDTH=100%>
        <H2>Intro</H2>
        <DIV ALIGN=right><P><SMALL>Logged on 09/21/2009 06:00:48 PM</SMALL></P></DIV>

        
        <A CLASS="COMMENTS">
      <P>The aim of this challenge is to repeat some of the challenges but "observing" with an instrument other than the WSRT. A python program is included which can generate antenna tables for many well know arrays, as well as any combination of the dishes contained in the included antenna data file.</P>
      <P>This antenna table can then be used with makems to generate the measurement set. Instructions for getting makems are here: http://www.astron.nl/meqwiki/BuildingMakeMs</P>
      <P>This program has only been tested with the version of pyrap from the oxford repository.</P>
    </A>

        <H3>Data products</H3>
        <TABLE BORDER=1 FRAME=box RULES=all CELLPADDING=5>

        <TR><TD COLSPAN=2><P><A HREF="entry-20090921-180048/mkant.py">mkant.py</A></P></TD></TR>

        <TR><TD COLSPAN=2><P><A HREF="entry-20090921-180048/locationsSB2.dat">locationsSB2.dat</A></P></TD></TR>

        </TABLE>
        <HR WIDTH=100%>
        <H2>Making some antenna tables</H2>
        <DIV ALIGN=right><P><SMALL>Logged on 09/21/2009 06:03:34 PM</SMALL></P></DIV>

        
        <A CLASS="COMMENTS">
      <P>The mkant.py program uses pyrap to generate the antenna table. It gets its antenna information from the locations.dat file. You can look at the top of the program to see which arrays it has predefined. Otherwise you can make your own array from the dishes in the locations.dat file.</P>
      <P>Some examples:</P>
      <P>mkant.py VLAA_ANT VLAA</P>
      <P>mkant.py EVN_ANT EVN</P>
      <P>mkant.py LOFAR_ANT LOFAR_CORE_HBA </P>
      <P>mkant.py MYARR_ANT "['EB', 'JB', 'MC', 'NT', 'TR']"</P>
      <P>When you create your own arrays you use python list syntax. The locations file is based on data from the vlbi sched program. The existing Lofar stations have been added to the file as well as locations for WSRT antennas that were missing.</P>
    </A>

        <H3>Data products</H3>
        <TABLE BORDER=1 FRAME=box RULES=all CELLPADDING=5>

        <TR><TD COLSPAN=2><P><A HREF="entry-20090921-180334/VLAA_ANT.tar.gz">VLAA_ANT.tar.gz</A></P></TD></TR>

        <TR><TD COLSPAN=2><P><A HREF="entry-20090921-180334/EVN_ANT.tar.gz">EVN_ANT.tar.gz</A></P></TD></TR>

        <TR><TD COLSPAN=2><P><A HREF="entry-20090921-180334/LOFAR_ANT.tar.gz">LOFAR_ANT.tar.gz</A></P></TD></TR>

        <TR><TD COLSPAN=2><P><A HREF="entry-20090921-180334/MYARR_ANT.tar.gz">MYARR_ANT.tar.gz</A></P></TD></TR>

        </TABLE>
        <HR WIDTH=100%>
        <H2>Making the Measurement Set</H2>
        <DIV ALIGN=right><P><SMALL>Logged on 09/22/2009 10:33:58 AM</SMALL></P></DIV>

        
        <A CLASS="COMMENTS">
      <P>The makems program can be used to generate a MS as in SSSC1. The makems config file to be used should be renamed to makems.cfg and then makems run with no arguments. MakeMS only copies the locations of the antennas in the supplied table to the MS, so it can be replaced with the full antenna table if proper station names, mount, and dish size info is desired. eg: </P>
      <P>rm -rf EVN1.MS/ANTENNA</P>
      <P>cp -r EVN_ANT EVN1.MS/ANTENNA </P>
    </A>

        <H3>Data products</H3>
        <TABLE BORDER=1 FRAME=box RULES=all CELLPADDING=5>

        <TR><TD COLSPAN=2><P><A HREF="entry-20090922-103358/makems.cfg.evn">makems.cfg.evn</A></P></TD></TR>

        <TR><TD COLSPAN=2><P><A HREF="entry-20090922-103358/makems.cfg.lofar">makems.cfg.lofar</A></P></TD></TR>

        <TR><TD COLSPAN=2><P><A HREF="entry-20090922-103358/EVN1.MS.tar.gz">EVN1.MS.tar.gz</A></P></TD></TR>

        <TR><TD COLSPAN=2><P><A HREF="entry-20090922-103358/LOFAR1.MS.tar.gz">LOFAR1.MS.tar.gz</A></P></TD></TR>

        </TABLE>
        <HR WIDTH=100%>
        <H2>Simulating data</H2>
        <DIV ALIGN=right><P><SMALL>Logged on 09/22/2009 10:58:21 AM</SMALL></P></DIV>

        
        <A CLASS="COMMENTS">
      <P>Datasets can then be simulated as usual. The field size in the EVN image is 0.005 and 150 in the Lofar image.</P>
    </A>

        <H3>Data products</H3>
        <TABLE BORDER=1 FRAME=box RULES=all CELLPADDING=5>
    <TR><TD COLSPAN=2><P><A HREF="entry-20090922-105821/EVN1.MS.DATA.channel.1ch.fits">EVN1.MS.DATA.channel.1ch.fits</A> (<A HREF="entry-20090922-105821/EVN1.MS.DATA.channel.1ch.fits.purr-products/fitsheader.html">header</A>)</P></TD></TR>
    <TR>
      <TD><TABLE><TR><TD ROWSPAN=2><A HREF="entry-20090922-105821/EVN1.MS.DATA.channel.1ch.fits.purr-products/0-full.png"><IMG SRC="entry-20090922-105821/EVN1.MS.DATA.channel.1ch.fits.purr-products/0-thumb.png" ALT="0-full.png"></A></TD><TD></TD></TR><TR><TD></TD></TR></TABLE></TD>
      <TD><TABLE><TR><TD>data range:</TD><TD>-0.468556,5.01282</TD></TR>
         <TR><TD>size:</TD><TD>1x1x512x512</TD></TR>

         <TR><TD>mean:</TD><TD>0.0102547</TD></TR>
         <TR><TD>sigma:</TD><TD>0.246462</TD></TR>
         <TR><TD>clipping:</TD><TD>95%</TD></TR>
         <TR><TD>clip range:</TD><TD>-0.340086,0.37185</TD></TR>

       </TABLE></TD>
    </TR>
    <TR><TD COLSPAN=2><P><A HREF="entry-20090922-105821/LOFAR1.MS.DATA.channel.1ch.fits">LOFAR1.MS.DATA.channel.1ch.fits</A> (<A HREF="entry-20090922-105821/LOFAR1.MS.DATA.channel.1ch.fits.purr-products/fitsheader.html">header</A>)</P></TD></TR>
    <TR>
      <TD><TABLE><TR><TD ROWSPAN=2><A HREF="entry-20090922-105821/LOFAR1.MS.DATA.channel.1ch.fits.purr-products/0-full.png"><IMG SRC="entry-20090922-105821/LOFAR1.MS.DATA.channel.1ch.fits.purr-products/0-thumb.png" ALT="0-full.png"></A></TD><TD></TD></TR><TR><TD></TD></TR></TABLE></TD>
      <TD><TABLE><TR><TD>data range:</TD><TD>-0.524962,5.0189</TD></TR>
         <TR><TD>size:</TD><TD>1x1x512x512</TD></TR>

         <TR><TD>mean:</TD><TD>-0.00022202</TD></TR>
         <TR><TD>sigma:</TD><TD>0.12648</TD></TR>
         <TR><TD>clipping:</TD><TD>95%</TD></TR>
         <TR><TD>clip range:</TD><TD>-0.156814,0.162607</TD></TR>

       </TABLE></TD>
    </TR>

        </TABLE><HR>
<DIV ALIGN=right><I><SMALL>This log was generated 
             by PURR version 1.0.</SMALL></I></DIV>
</BODY></HTML>
